<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Interview Completed</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f4f6f9;
        }
        .thank-you-card {
            max-width: 650px;
            margin: 80px auto;
            padding: 45px;
            text-align: center;
            border-radius: 12px;
            background: white;
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }
        .thank-you-icon {
            font-size: 55px;
            color: #198754;
        }
        .btn-custom {
            border-radius: 25px;
            padding: 10px 25px;
        }
        h2 {
            font-weight: 600;
            color: #212529;
        }
        p {
            font-size: 1.05rem;
            color: #495057;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="thank-you-card">
        <div class="thank-you-icon">âœ”</div>
        <h2 class="mt-3">Interview Completed</h2>
        <p class="mt-3">
            Your interview has been successfully submitted.
            Our recruitment team will review your responses as part of the evaluation process.
            If your profile is shortlisted, you will be contacted regarding the next steps.
        </p>
        <p class="mt-3">
            Thank you for your time and participation.
        </p>

        <div class="mt-4">
            <a href="#" class="btn btn-primary btn-custom" onclick="logoutAndClose()">Logout</a>
        </div>
    </div>
</div>

<script>
    function logoutAndClose() {
        // First call logout endpoint
        fetch('/logout', { method: 'POST' })
            .then(() => {
                // Try to close the window
                window.open('', '_self'); // necessary trick for some browsers
                window.close();

                // If window cannot close, fallback
                setTimeout(() => {
                    document.body.innerHTML = `
                        <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;">
                            <h2>You have been logged out successfully.</h2>
                            <p>You may now close this tab.</p>
                        </div>`;
                }, 500);
            });
    }
</script>

</body>
</html>
